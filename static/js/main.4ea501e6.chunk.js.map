{"version":3,"sources":["assets/img/navbar-logo.svg","reducers/user/userReducer.ts","reducers/file/fileReducer.ts","reducers/upload/uploadReducer.ts","reducers/appReducer.ts","config.ts","api/file.ts","assets/img/avatar.svg","components/navbar/Navbar.tsx","utils/input/Input.tsx","api/user.ts","components/authorization/Registration.tsx","components/authorization/Login.tsx","assets/img/dir.svg","assets/img/file.svg","components/disk/fileList/file/File.tsx","utils/sizeFormat.ts","components/disk/fileList/FileList.tsx","components/disk/Popup.tsx","components/disk/uploader/UploadFile.tsx","components/disk/uploader/Uploader.tsx","components/disk/Disk.tsx","components/profile/Profile.tsx","App.tsx","reducers/index.ts","index.tsx"],"names":["SET_USER","LOGOUT","defaultState","currentUser","isAuth","setUser","user","type","payload","SET_FILES","SET_CURRENT_DIR","ADD_FILE","SET_POPUP_DISPLAY","PUSH_TO_STACK","DELETE_FILE","SET_VIEW","files","currentDir","popupDisplay","dirStack","view","setFiles","setCurrentDir","dir","addFile","file","setPopupDisplay","display","setFileView","SHOW_UPLOADER","HIDE_UPLOADER","ADD_UPLOAD_FILE","REMOVE_UPLOAD_FILE","CHANGE_UPLOAD_FILE","isVisible","addUploadFile","SHOW_LOADER","HIDE_LOADER","loader","showLoader","hideLoader","API_URL","getFiles","dirId","sort","dispatch","a","url","axios","get","headers","Authorization","localStorage","getItem","response","data","alert","message","uploadFile","formData","FormData","append","name","progress","id","Date","now","post","onUploadProgress","progressEvent","totalLength","lengthComputable","total","target","getResponseHeader","Math","round","loaded","fetch","_id","status","blob","downloadUrl","window","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","remove","Navbar","useSelector","state","useDispatch","useState","searchName","setSearchName","searchTimeout","setSearchTimeout","avatar","avatarLogo","searchChangeHandler","e","value","clearTimeout","setTimeout","search","className","to","src","Logo","alt","onChange","placeholder","onClick","Input","props","event","setValue","registration","email","password","Registration","setEmail","setPassword","console","log","Login","setItem","token","login","File","size","fileView","openDirHandler","pushToStack","downloadClickHandler","stopPropagation","downloadFile","deleteClickHandler","delete","deleteFile","dirLogo","fileLogo","date","slice","toFixed","FileList","length","map","TransitionGroup","CSSTransition","timeout","classNames","exit","Popup","dirName","setDirName","createHandler","parent","style","UploadFile","fileId","width","Uploader","upload","Disk","app","dragEnter","setDragEnter","setSort","dragEnterHandler","preventDefault","dragLeaveHandler","useEffect","onDrop","dataTransfer","forEach","onDragEnter","onDragLeave","onDragOver","backDirId","pop","backClickHandler","htmlFor","multiple","fileUploadHandler","Profile","changeHandler","uploadAvatar","accept","App","removeItem","exact","path","component","rootReducer","combineReducers","action","filter","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.4ea501e6.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/navbar-logo.6e7450e0.svg\";","const SET_USER = 'SET_USER';\r\nconst LOGOUT = 'LOGOUT';\r\n\r\nconst defaultState = {\r\n  currentUser: {},\r\n  isAuth: false,\r\n};\r\n\r\nexport default function userReducer(state = defaultState, action: any) {\r\n  switch (action.type) {\r\n    case SET_USER:\r\n      return {\r\n        ...state,\r\n        currentUser: action.payload,\r\n        isAuth: true,\r\n      };\r\n    case LOGOUT:\r\n      localStorage.removeItem('token');\r\n      return {\r\n        ...state,\r\n        currentUser: {},\r\n        isAuth: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const setUser = (user: any) => ({type: SET_USER, payload: user});\r\nexport const logout = () => ({type: LOGOUT});\r\n","const SET_FILES = 'SET_FILES';\r\nconst SET_CURRENT_DIR = 'SET_CURRENT_DIR';\r\nconst ADD_FILE = 'ADD_FILE';\r\nconst SET_POPUP_DISPLAY = 'SET_POPUP_DISPLAY';\r\nconst PUSH_TO_STACK = 'PUSH_TO_STACK';\r\nconst DELETE_FILE = 'DELETE_FILE';\r\nconst SET_VIEW = 'SET_VIEW';\r\n\r\ntype stateType = {\r\n  files: Object[] | any;\r\n  currentDir: null | string;\r\n  popupDisplay: string;\r\n  dirStack: Array<String>;\r\n  view: string;\r\n};\r\n\r\nconst defaultState: stateType = {\r\n  files: [],\r\n  currentDir: null,\r\n  popupDisplay: 'none',\r\n  dirStack: [],\r\n  view: 'list',\r\n};\r\n\r\nexport default function fileReducer(state = defaultState, action: any) {\r\n  switch (action.type) {\r\n    case SET_FILES:\r\n      return {\r\n        ...state,\r\n        files: action.payload,\r\n      };\r\n    case SET_CURRENT_DIR:\r\n      return {\r\n        ...state,\r\n        currentDir: action.payload,\r\n      };\r\n    case ADD_FILE:\r\n      return {\r\n        ...state,\r\n        files: [...state.files, action.payload],\r\n      };\r\n    case SET_POPUP_DISPLAY:\r\n      return {\r\n        ...state,\r\n        popupDisplay: action.payload,\r\n      };\r\n    case PUSH_TO_STACK:\r\n      return {\r\n        ...state,\r\n        dirStack: [...state.dirStack, action.payload],\r\n      };\r\n    case DELETE_FILE:\r\n      return {\r\n        ...state,\r\n        files: [...state.files.filter((file: any) => file._id !== action.payload)],\r\n      };\r\n    case SET_VIEW:\r\n      return {...state, view: action.payload};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const setFiles = (files: any) => ({type: SET_FILES, payload: files});\r\nexport const setCurrentDir = (dir: any) => ({type: SET_CURRENT_DIR, payload: dir});\r\nexport const addFile = (file: any) => ({type: ADD_FILE, payload: file});\r\nexport const setPopupDisplay = (display: any) => ({\r\n  type: SET_POPUP_DISPLAY,\r\n  payload: display,\r\n});\r\nexport const pushToStack = (dir: any) => ({type: PUSH_TO_STACK, payload: dir});\r\nexport const deleteFileAction = (dirId: any) => ({type: DELETE_FILE, payload: dirId});\r\nexport const setFileView = (payload: any) => ({type: SET_VIEW, payload});\r\n","const SHOW_UPLOADER = 'SHOW_UPLOADER';\r\nconst HIDE_UPLOADER = 'HIDE_UPLOADER';\r\nconst ADD_UPLOAD_FILE = 'ADD_UPLOAD_FILE';\r\nconst REMOVE_UPLOAD_FILE = 'REMOVE_UPLOAD_FILE';\r\nconst CHANGE_UPLOAD_FILE = 'CHANGE_UPLOAD_FILE';\r\n\r\ntype stateType = {\r\n  files: Object[] | any;\r\n  isVisible: boolean;\r\n};\r\n\r\nconst defaultState: stateType = {\r\n  isVisible: false,\r\n  files: [],\r\n};\r\n\r\nexport default function userReducer(state = defaultState, action: any) {\r\n  switch (action.type) {\r\n    case SHOW_UPLOADER:\r\n      return {...state, isVisible: true};\r\n    case HIDE_UPLOADER:\r\n      return {...state, isVisible: false};\r\n    case ADD_UPLOAD_FILE:\r\n      return {...state, files: [...state.files, action.payload]};\r\n    case REMOVE_UPLOAD_FILE:\r\n      return {\r\n        ...state,\r\n        files: [...state.files.filter((file: any) => file.id !== action.payload)],\r\n      };\r\n    case CHANGE_UPLOAD_FILE:\r\n      return {\r\n        ...state,\r\n        files: [\r\n          ...state.files.map((file: any) =>\r\n            file.id === action.payload.id\r\n              ? {...file, progress: action.payload.progress}\r\n              : {...file},\r\n          ),\r\n        ],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const showUploader = () => ({type: SHOW_UPLOADER});\r\nexport const hideUploader = () => ({type: HIDE_UPLOADER});\r\nexport const addUploadFile = (file: any) => ({type: ADD_UPLOAD_FILE, payload: file});\r\nexport const removeUploadFile = (fileId: any) => ({\r\n  type: REMOVE_UPLOAD_FILE,\r\n  payload: fileId,\r\n});\r\nexport const changeUploadFile = (payload: any) => ({\r\n  type: CHANGE_UPLOAD_FILE,\r\n  payload: payload,\r\n});\r\n","const SHOW_LOADER = 'SHOW_LOADER';\r\nconst HIDE_LOADER = 'HIDE_LOADER';\r\n\r\nconst defaultState = {\r\n  loader: false,\r\n};\r\n\r\nexport default function userReducer(state = defaultState, action: any) {\r\n  switch (action.type) {\r\n    case SHOW_LOADER:\r\n      return {...state, loader: true};\r\n    case HIDE_LOADER:\r\n      return {...state, loader: false};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const showLoader = () => ({type: SHOW_LOADER});\r\nexport const hideLoader = () => ({type: HIDE_LOADER});\r\n","export const API_URL = `https://arcane-wildwood-44342.herokuapp.com/`;\r\n","import axios from 'axios';\r\nimport {addFile, setFiles, deleteFileAction} from '../reducers/file/fileReducer';\r\nimport {\r\n  addUploadFile,\r\n  changeUploadFile,\r\n  showUploader,\r\n} from '../reducers/upload/uploadReducer';\r\nimport {hideLoader, showLoader} from '../reducers/appReducer';\r\nimport {API_URL} from '../config';\r\n\r\nexport function getFiles(dirId: string, sort?: string) {\r\n  return async (dispatch: any) => {\r\n    try {\r\n      dispatch(showLoader());\r\n      let url = `${API_URL}api/files`;\r\n      if (dirId) {\r\n        url = `${API_URL}api/files?parent=${dirId}`;\r\n      }\r\n      if (sort) {\r\n        url = `${API_URL}api/files?sort=${sort}`;\r\n      }\r\n      if (dirId && sort) {\r\n        url = `${API_URL}api/files?parent=${dirId}&sort=${sort}`;\r\n      }\r\n      const response = await axios.get(url, {\r\n        headers: {Authorization: `Bearer ${localStorage.getItem('token')}`},\r\n      });\r\n      dispatch(setFiles(response.data));\r\n    } catch (e) {\r\n      alert(e.response.data.message);\r\n    } finally {\r\n      dispatch(hideLoader());\r\n    }\r\n  };\r\n}\r\n\r\nexport function createDir(dirId: string, name: string) {\r\n  return async (dispatch: any) => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${API_URL}api/files`,\r\n        {\r\n          name,\r\n          parent: dirId,\r\n          type: 'dir',\r\n        },\r\n        {\r\n          headers: {Authorization: `Bearer ${localStorage.getItem('token')}`},\r\n        },\r\n      );\r\n      dispatch(addFile(response.data));\r\n    } catch (e) {\r\n      alert(e.response.data.message);\r\n    }\r\n  };\r\n}\r\n\r\nexport function uploadFile(file: any, dirId: string) {\r\n  return async (dispatch: any) => {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      if (dirId) {\r\n        formData.append('parent', dirId);\r\n      }\r\n      const uploadFile = {name: file.name, progress: 0, id: Date.now()};\r\n      dispatch(showUploader());\r\n      dispatch(addUploadFile(uploadFile));\r\n      const response = await axios.post(`${API_URL}api/files/upload`, formData, {\r\n        headers: {Authorization: `Bearer ${localStorage.getItem('token')}`},\r\n        onUploadProgress: (progressEvent) => {\r\n          const totalLength = progressEvent.lengthComputable\r\n            ? progressEvent.total\r\n            : progressEvent.target.getResponseHeader('content-length') ||\r\n              progressEvent.target.getResponseHeader('x-decompressed-content-length');\r\n          if (totalLength) {\r\n            uploadFile.progress = Math.round((progressEvent.loaded * 100) / totalLength);\r\n            dispatch(changeUploadFile(uploadFile));\r\n          }\r\n        },\r\n      });\r\n      dispatch(addFile(response.data));\r\n    } catch (e) {\r\n      alert(e?.response?.data?.message);\r\n    }\r\n  };\r\n}\r\n\r\nexport async function downloadFile(file: any) {\r\n  const response = await fetch(`${API_URL}api/files/download?id=${file._id}`, {\r\n    headers: {\r\n      Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n    },\r\n  });\r\n  if (response.status === 200) {\r\n    const blob = await response.blob();\r\n    const downloadUrl = window.URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.href = downloadUrl;\r\n    link.download = file.name;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    link.remove();\r\n  }\r\n}\r\n\r\nexport function deleteFile(file: any) {\r\n  return async (dispatch: any) => {\r\n    try {\r\n      const response = await axios.delete(`${API_URL}api/files?id=${file._id}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n        },\r\n      });\r\n      dispatch(deleteFileAction(file._id));\r\n      alert(response.data.message);\r\n    } catch (e) {\r\n      alert(e?.response?.data?.message);\r\n    }\r\n  };\r\n}\r\n\r\nexport function searchFiles(search: string) {\r\n  return async (dispatch: any) => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}api/files/search?search=${search}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n        },\r\n      });\r\n      dispatch(setFiles(response.data));\r\n    } catch (e) {\r\n      alert(e?.response?.data?.message);\r\n    } finally {\r\n      dispatch(hideLoader());\r\n    }\r\n  };\r\n}\r\n","export default __webpack_public_path__ + \"static/media/avatar.1af8adc2.svg\";","import React, {useState} from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport Logo from '../../assets/img/navbar-logo.svg';\r\nimport './navbar.scss';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {logout} from '../../reducers/user/userReducer';\r\nimport {getFiles, searchFiles} from '../../api/file';\r\nimport {showLoader} from '../../reducers/appReducer';\r\nimport avatarLogo from '../../assets/img/avatar.svg';\r\nimport {API_URL} from '../../config';\r\n\r\nconst Navbar: React.FC = () => {\r\n  const isAuth = useSelector((state: any) => state.user.isAuth);\r\n  const currentDir = useSelector((state: any) => state.files.currentDir);\r\n  const currentUser = useSelector((state: any) => state.user.currentUser);\r\n  const dispatch = useDispatch();\r\n  const [searchName, setSearchName] = useState('');\r\n  const [searchTimeout, setSearchTimeout] = useState(false);\r\n\r\n  const avatar = currentUser.avatar ? `${API_URL + currentUser.avatar}` : avatarLogo;\r\n\r\n  function searchChangeHandler(e: any) {\r\n    setSearchName(e.target.value);\r\n    if (searchTimeout !== false) {\r\n      // @ts-ignore\r\n      clearTimeout(searchTimeout);\r\n    }\r\n    dispatch(showLoader());\r\n    if (e.target.value !== '') {\r\n      setSearchTimeout(\r\n        // @ts-ignore\r\n        setTimeout(\r\n          (value) => {\r\n            dispatch(searchFiles(value));\r\n          },\r\n          500,\r\n          e.target.value,\r\n        ),\r\n      );\r\n    } else {\r\n      dispatch(getFiles(currentDir));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"navbar\">\r\n      <div className=\"container\">\r\n        <NavLink to=\"/\" className=\"navbar__logo\">\r\n          <img src={Logo} alt=\"\" className=\"navbar__img\" />\r\n          <div className=\"navbar__header\">MERN CLOUD</div>\r\n        </NavLink>\r\n        {isAuth && (\r\n          <input\r\n            value={searchName}\r\n            onChange={(e) => searchChangeHandler(e)}\r\n            className=\"navbar__search\"\r\n            type=\"text\"\r\n            placeholder=\"Название файла...\"\r\n          />\r\n        )}\r\n        {!isAuth && (\r\n          <div className=\"navbar__login\">\r\n            <NavLink to=\"/login\">Войти</NavLink>\r\n          </div>\r\n        )}\r\n        {!isAuth && (\r\n          <div className=\"navbar__registration\">\r\n            <NavLink to=\"/registration\">Регистрация</NavLink>\r\n          </div>\r\n        )}\r\n        {isAuth && (\r\n          <div className=\"navbar__login\" onClick={() => dispatch(logout())}>\r\n            Выход\r\n          </div>\r\n        )}\r\n        {isAuth && (\r\n          <NavLink to=\"/profile\">\r\n            <img className=\"navbar__avatar\" src={avatar} alt=\"\" />\r\n          </NavLink>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\nimport './input.scss';\r\n\r\ninterface InputProps {\r\n  type: string;\r\n  placeholder: string;\r\n  value: string;\r\n  setValue: any;\r\n}\r\n\r\nconst Input: React.FC<InputProps> = (props) => {\r\n  return (\r\n    <input\r\n      onChange={(event) => props.setValue(event.target.value)}\r\n      value={props.value}\r\n      type={props.type}\r\n      placeholder={props.placeholder}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import axios from 'axios';\r\nimport {setUser} from '../reducers/user/userReducer';\r\nimport {API_URL} from '../config';\r\n\r\nexport const registration = async (email: string, password: string) => {\r\n  try {\r\n    const response = await axios.post(`${API_URL}api/auth/registration`, {\r\n      email,\r\n      password,\r\n    });\r\n    alert(response.data.message);\r\n  } catch (e) {\r\n    alert(e.response.data.message);\r\n  }\r\n};\r\n\r\nexport const login = (email: string, password: string) => {\r\n  return async (dispatch: any) => {\r\n    try {\r\n      const response = await axios.post(`${API_URL}api/auth/login`, {\r\n        email,\r\n        password,\r\n      });\r\n      dispatch(setUser(response.data.user));\r\n      localStorage.setItem('token', response.data.token);\r\n    } catch (e) {\r\n      alert(e.response.data.message);\r\n    }\r\n  };\r\n};\r\n\r\nexport const auth = () => {\r\n  return async (dispatch: any) => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}api/auth/auth`, {\r\n        headers: {Authorization: `Bearer ${localStorage.getItem('token')}`},\r\n      });\r\n      localStorage.setItem('token', response.data.token);\r\n      dispatch(setUser(response.data.user));\r\n    } catch (e) {\r\n      localStorage.removeItem('token');\r\n    }\r\n  };\r\n};\r\n\r\nexport const uploadAvatar = (file: any) => {\r\n  return async (dispatch: any) => {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      const response = await axios.post(`${API_URL}api/files/avatar`, formData, {\r\n        headers: {Authorization: `Bearer ${localStorage.getItem('token')}`},\r\n      });\r\n      dispatch(setUser(response.data));\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\n\r\nexport const deleteAvatar = () => {\r\n  return async (dispatch: any) => {\r\n    try {\r\n      const response = await axios.delete(`${API_URL}api/files/avatar`, {\r\n        headers: {Authorization: `Bearer ${localStorage.getItem('token')}`},\r\n      });\r\n      dispatch(setUser(response.data));\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\n","import React, {useState} from 'react';\r\nimport './authorization.scss';\r\nimport Input from '../../utils/input/Input';\r\nimport {registration} from '../../api/user';\r\n\r\nconst Registration: React.FC = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  console.log('email', email);\r\n  console.log('password', password);\r\n\r\n  return (\r\n    <div className=\"authorization\">\r\n      <div className=\"authorization__header\">Регистрация</div>\r\n      <Input\r\n        value={email}\r\n        setValue={setEmail}\r\n        type=\"text\"\r\n        placeholder=\"Введите email...\"\r\n      />\r\n      <Input\r\n        value={password}\r\n        setValue={setPassword}\r\n        type=\"password\"\r\n        placeholder=\"Введите пароль...\"\r\n      />\r\n      <button\r\n        className=\"authorization__btn\"\r\n        onClick={() => registration(email, password)}>\r\n        Зарегистрироваться\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Registration;\r\n","import React, {useState} from 'react';\r\nimport './authorization.scss';\r\nimport Input from '../../utils/input/Input';\r\nimport {useDispatch} from 'react-redux';\r\nimport {login} from '../../api/user';\r\n\r\nconst Login: React.FC = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"authorization\">\r\n      <div className=\"authorization__header\">Авторизация</div>\r\n      <Input\r\n        value={email}\r\n        setValue={setEmail}\r\n        type=\"text\"\r\n        placeholder=\"Введите email...\"\r\n      />\r\n      <Input\r\n        value={password}\r\n        setValue={setPassword}\r\n        type=\"password\"\r\n        placeholder=\"Введите пароль...\"\r\n      />\r\n      <button\r\n        className=\"authorization__btn\"\r\n        onClick={() => dispatch(login(email, password))}>\r\n        Войти\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","export default __webpack_public_path__ + \"static/media/dir.4593101f.svg\";","export default __webpack_public_path__ + \"static/media/file.8e976cc0.svg\";","import React from 'react';\r\nimport './file.scss';\r\nimport dirLogo from '../../../../assets/img/dir.svg';\r\nimport fileLogo from '../../../../assets/img/file.svg';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {pushToStack, setCurrentDir} from '../../../../reducers/file/fileReducer';\r\nimport {deleteFile, downloadFile} from '../../../../api/file';\r\nimport {sizeFormat} from '../../../../utils/sizeFormat';\r\n\r\ntype FileProps = {\r\n  file: any;\r\n};\r\n\r\nconst File: React.FC<FileProps> = ({file}) => {\r\n  const dispatch = useDispatch();\r\n  const currentDir = useSelector((state: any) => state.files.currentDir);\r\n  const fileView = useSelector((state: any) => state.files.view);\r\n\r\n  function openDirHandler(file: any) {\r\n    if (file.type === 'dir') {\r\n      dispatch(pushToStack(currentDir));\r\n      dispatch(setCurrentDir(file._id));\r\n    }\r\n  }\r\n\r\n  function downloadClickHandler(e: any) {\r\n    e.stopPropagation();\r\n    downloadFile(file);\r\n  }\r\n\r\n  function deleteClickHandler(e: any) {\r\n    e.stopPropagation();\r\n    dispatch(deleteFile(file));\r\n  }\r\n\r\n  if (fileView === 'list') {\r\n    return (\r\n      <div className=\"file\" onClick={() => openDirHandler(file)}>\r\n        <img\r\n          src={file.type === 'dir' ? dirLogo : fileLogo}\r\n          alt=\"\"\r\n          className=\"file__img\"\r\n        />\r\n        <div className=\"file__name\">{file.name}</div>\r\n        <div className=\"file__date\">{file.date.slice(0, 10)}</div>\r\n        <div className=\"file__size\">{sizeFormat(file.size)}</div>\r\n        {file.type !== 'dir' && (\r\n          <button\r\n            onClick={(e) => downloadClickHandler(e)}\r\n            className=\"file__btn file__download\">\r\n            download\r\n          </button>\r\n        )}\r\n        <button onClick={(e) => deleteClickHandler(e)} className=\"file__btn file__delete\">\r\n          delete\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (fileView === 'plate') {\r\n    return (\r\n      <div className=\"file-plate\" onClick={() => openDirHandler(file)}>\r\n        <img\r\n          src={file.type === 'dir' ? dirLogo : fileLogo}\r\n          alt=\"\"\r\n          className=\"file-plate__img\"\r\n        />\r\n        <div className=\"file-plate__name\">{file.name}</div>\r\n        <div className=\"file-plate__btns\">\r\n          {file.type !== 'dir' && (\r\n            <button\r\n              onClick={(e) => downloadClickHandler(e)}\r\n              className=\"file-plate__btn file-plate__download\">\r\n              download\r\n            </button>\r\n          )}\r\n          <button\r\n            onClick={(e) => deleteClickHandler(e)}\r\n            className=\"file-plate__btn file-plate__delete\">\r\n            delete\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <div>File</div>;\r\n};\r\n\r\nexport default File;\r\n","export const sizeFormat = (size: number) => {\r\n  if (size > 1024 * 1024 * 1024) {\r\n    return (size / (1024 * 1024 * 1024)).toFixed(1) + 'Gb';\r\n  }\r\n  if (size > 1024 * 1024) {\r\n    return (size / (1024 * 1024)).toFixed(1) + 'Mb';\r\n  }\r\n  if (size > 1024) {\r\n    return (size / 1024).toFixed(1) + 'Kb';\r\n  }\r\n  return size + 'B';\r\n};\r\n","import React from 'react';\r\nimport './fileList.scss';\r\nimport {useSelector} from 'react-redux';\r\nimport File from './file/File';\r\nimport {CSSTransition, TransitionGroup} from 'react-transition-group';\r\n\r\nconst FileList: React.FC = () => {\r\n  const files = useSelector((state: any) => state.files.files);\r\n  const fileView = useSelector((state: any) => state.files.view);\r\n\r\n  if (files.length === 0) {\r\n    return <div className=\"loader\">Файлы не найдены</div>;\r\n  }\r\n\r\n  if (fileView === 'plate') {\r\n    return (\r\n      <div className=\"fileplate\">\r\n        {files.map((file: any) => (\r\n          <File key={file._id} file={file} />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (fileView === 'list') {\r\n    return (\r\n      <div className=\"filelist\">\r\n        <div className=\"filelist__header\">\r\n          <div className=\"filelist__name\">Название</div>\r\n          <div className=\"filelist__date\">Дата</div>\r\n          <div className=\"filelist__size\">Размер</div>\r\n        </div>\r\n        <TransitionGroup>\r\n          {files.map((file: any) => (\r\n            <CSSTransition key={file._id} timeout={500} classNames={'file'} exit={false}>\r\n              <File file={file} />\r\n            </CSSTransition>\r\n          ))}\r\n        </TransitionGroup>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <div>FileList</div>;\r\n};\r\n\r\nexport default FileList;\r\n","import React, {useState} from 'react';\r\nimport Input from '../../utils/input/Input';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {setPopupDisplay} from '../../reducers/file/fileReducer';\r\nimport {createDir} from '../../api/file';\r\n\r\nconst Popup: React.FC = () => {\r\n  const [dirName, setDirName] = useState('');\r\n  const popupDisplay = useSelector((state: any) => state.files.popupDisplay);\r\n  const currentDir = useSelector((state: any) => state.files.currentDir);\r\n  const dispatch = useDispatch();\r\n\r\n  function createHandler() {\r\n    dispatch(createDir(currentDir, dirName));\r\n    setDirName('');\r\n    dispatch(setPopupDisplay('none'));\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"popup\"\r\n      onClick={() => dispatch(setPopupDisplay('none'))}\r\n      style={{display: popupDisplay}}>\r\n      <div className=\"popup__content\" onClick={(event) => event.stopPropagation()}>\r\n        <div className=\"popup__header\">\r\n          <div className=\"popup__title\">Создать новую папку</div>\r\n          <button\r\n            className=\"popup__close\"\r\n            onClick={() => dispatch(setPopupDisplay('none'))}>\r\n            X\r\n          </button>\r\n        </div>\r\n        <Input\r\n          type=\"text\"\r\n          placeholder=\"Введите название папки...\"\r\n          value={dirName}\r\n          setValue={setDirName}\r\n        />\r\n        <button className=\"popup__create\" onClick={() => createHandler()}>\r\n          Создать\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Popup;\r\n","import React from 'react';\r\nimport './uploader.scss';\r\nimport {useDispatch} from 'react-redux';\r\nimport {removeUploadFile} from '../../../reducers/upload/uploadReducer';\r\n\r\ntype FileProps = {\r\n  file: any;\r\n};\r\n\r\nconst UploadFile: React.FC<FileProps> = ({file}) => {\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"upload-file\">\r\n      <div className=\"upload-file__header\">\r\n        <div className=\"upload-file__name\">{file.name}</div>\r\n        <button\r\n          className=\"upload-file__remove\"\r\n          onClick={() => dispatch(removeUploadFile(file.id))}>\r\n          X\r\n        </button>\r\n      </div>\r\n      <div className=\"upload-file__progress-bar\">\r\n        <div className=\"upload-file__upload-bar\" style={{width: file.progress + '%'}} />\r\n        <div className=\"upload-file__percent\">{file.progress}%</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UploadFile;\r\n","import React from 'react';\r\nimport UploadFile from './UploadFile';\r\nimport './uploader.scss';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {hideUploader} from '../../../reducers/upload/uploadReducer';\r\n\r\nconst Uploader: React.FC = () => {\r\n  const files = useSelector((state: any) => state.upload.files);\r\n  const isVisible = useSelector((state: any) => state.upload.isVisible);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    isVisible && (\r\n      <div className=\"uploader\">\r\n        <div className=\"uploader__header\">\r\n          <div className=\"uploader__title\">Загрузки</div>\r\n          <button className=\"uploader__close\" onClick={() => dispatch(hideUploader())}>\r\n            X\r\n          </button>\r\n        </div>\r\n        {files.map((file: any) => (\r\n          <UploadFile key={file.id} file={file} />\r\n        ))}\r\n      </div>\r\n    )\r\n  );\r\n};\r\n\r\nexport default Uploader;\r\n","import React, {useState, useEffect} from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {getFiles, uploadFile} from '../../api/file';\r\nimport FileList from './fileList/FileList';\r\nimport Popup from './Popup';\r\nimport {\r\n  setCurrentDir,\r\n  setFileView,\r\n  setPopupDisplay,\r\n} from '../../reducers/file/fileReducer';\r\nimport './disk.scss';\r\nimport Uploader from './uploader/Uploader';\r\n\r\nconst Disk: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const currentDir = useSelector((state: any) => state.files.currentDir);\r\n  const loader = useSelector((state: any) => state.app.loader);\r\n  const dirStack = useSelector((state: any) => state.files.dirStack);\r\n  const [dragEnter, setDragEnter] = useState(false);\r\n  const [sort, setSort] = useState('type');\r\n\r\n  useEffect(() => {\r\n    dispatch(getFiles(currentDir, sort));\r\n  }, [currentDir, sort]);\r\n\r\n  function showPopupHandler() {\r\n    dispatch(setPopupDisplay('flex'));\r\n  }\r\n\r\n  function backClickHandler() {\r\n    const backDirId = dirStack.pop();\r\n    dispatch(setCurrentDir(backDirId));\r\n  }\r\n\r\n  function fileUploadHandler(event: any) {\r\n    const files = [...event.target.files];\r\n    files.forEach((file) => dispatch(uploadFile(file, currentDir)));\r\n  }\r\n\r\n  function dragEnterHandler(event: any) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    setDragEnter(true);\r\n  }\r\n\r\n  function dragLeaveHandler(event: any) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    setDragEnter(false);\r\n  }\r\n\r\n  function dropHandler(event: any) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    let files = [...event.dataTransfer.files];\r\n    files.forEach((file) => dispatch(uploadFile(file, currentDir)));\r\n    setDragEnter(false);\r\n  }\r\n\r\n  if (loader) {\r\n    return (\r\n      <div className=\"loader\">\r\n        <div className=\"lds-dual-ring\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return !dragEnter ? (\r\n    <div\r\n      className=\"disk\"\r\n      onDragEnter={dragEnterHandler}\r\n      onDragLeave={dragLeaveHandler}\r\n      onDragOver={dragEnterHandler}>\r\n      <div className=\"disk__btns\">\r\n        {currentDir && (\r\n          <button className=\"disk__back\" onClick={() => backClickHandler()}>\r\n            Назад\r\n          </button>\r\n        )}\r\n\r\n        <button className=\"disk__create\" onClick={() => showPopupHandler()}>\r\n          Создать папку\r\n        </button>\r\n\r\n        <div className=\"disk__upload\">\r\n          <label htmlFor=\"disk__upload-input\" className=\"disk__upload-label\">\r\n            Загрузить файл\r\n          </label>\r\n          <input\r\n            multiple={true}\r\n            onChange={(event) => fileUploadHandler(event)}\r\n            type=\"file\"\r\n            id=\"disk__upload-input\"\r\n            className=\"disk__upload-input\"\r\n          />\r\n        </div>\r\n        <select\r\n          value={sort}\r\n          onChange={(e) => setSort(e.target.value)}\r\n          className=\"disk__select\">\r\n          <option value=\"name\">По имени</option>\r\n          <option value=\"type\">По типу</option>\r\n          <option value=\"date\">По дате</option>\r\n        </select>\r\n        <button className=\"disk__plate\" onClick={() => dispatch(setFileView('plate'))} />\r\n        <button className=\"disk__list\" onClick={() => dispatch(setFileView('list'))} />\r\n      </div>\r\n      <FileList />\r\n      <Popup />\r\n      <Uploader />\r\n    </div>\r\n  ) : (\r\n    <div\r\n      className=\"drop-area\"\r\n      onDrop={dropHandler}\r\n      onDragEnter={dragEnterHandler}\r\n      onDragLeave={dragLeaveHandler}\r\n      onDragOver={dragEnterHandler}>\r\n      Перетащите файлы сюда\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Disk;\r\n","import React from 'react';\r\nimport {useDispatch} from 'react-redux';\r\nimport {deleteAvatar, uploadAvatar} from '../../api/user';\r\n\r\nconst Profile: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  function changeHandler(e: any) {\r\n    const file = e.target.files[0];\r\n    dispatch(uploadAvatar(file));\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={() => dispatch(deleteAvatar())}>Удалить аватар</button>\r\n      <input\r\n        accept=\"image/*\"\r\n        onChange={(e) => changeHandler(e)}\r\n        type=\"file\"\r\n        placeholder=\"Загрузить аватар\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, {useEffect} from 'react';\nimport {Route, Switch, Redirect, HashRouter} from 'react-router-dom';\nimport Navbar from './components/navbar/Navbar';\nimport Registration from './components/authorization/Registration';\nimport Login from './components/authorization/Login';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {auth} from './api/user';\nimport Disk from './components/disk/Disk';\nimport Profile from './components/profile/Profile';\nimport './app.scss';\n\nconst App: React.FC = () => {\n  const isAuth = useSelector((state: any) => state.user.isAuth);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(auth());\n  }, []);\n\n  return (\n    <HashRouter>\n      <div className=\"app\">\n        <Navbar />\n        <div className=\"wrap\">\n          {!isAuth ? (\n            <Switch>\n              <Route path=\"/registration\" component={Registration} />\n              <Route path=\"/login\" component={Login} />\n              <Redirect to=\"/login\" />\n            </Switch>\n          ) : (\n            <Switch>\n              <Route exact path=\"/\" component={Disk} />\n              <Route exact path=\"/profile\" component={Profile} />\n              <Redirect to=\"/\" />\n            </Switch>\n          )}\n        </div>\n      </div>\n    </HashRouter>\n  );\n};\n\nexport default App;\n","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport userReducer from './user/userReducer';\r\nimport fileReducer from './file/fileReducer';\r\nimport uploadReducer from './upload/uploadReducer';\r\nimport appReducer from './appReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  user: userReducer,\r\n  files: fileReducer,\r\n  upload: uploadReducer,\r\n  app: appReducer,\r\n});\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk)),\r\n);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { store } from './reducers';\r\nimport { Provider } from 'react-redux';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}